
<form #myform = "ngForm" (ngSubmit) = "onSubmit()">
  <h4 class="display-6">Basic Fields</h4>
  <div class="row">
    <div class="col">
      <div class="form-group">
        <label>User Type&nbsp;&nbsp;<code>*</code></label>
        <br/>
        <span class="pretty p-default p-round p-thick mt-3">
          <input type="radio" name="userTypeO" value="o"
                 [(ngModel)]="model.userType" name="userType"/>
          <span class="state p-primary-o">
              <i class="icon mdi mdi-heart"></i><label><b>Owner</b></label>
          </span>
        </span>
        <span class="pretty p-default p-round p-thick mt-3">
          <input type="radio" name="userTypeB" value="b"
                 [(ngModel)]="model.userType" name="userType"/>
          <span class="state p-primary-o">
              <i class="icon mdi mdi-heart"></i><label><b>Builder</b></label>
          </span>
        </span>
        <!--
        <span class="pretty p-default p-round p-thick mt-3">
          <input type="radio" name="userTypeStar" value="*"
                 [(ngModel)]="model.userType" name="userType"/>
          <span class="state p-primary-o">
              <i class="icon mdi mdi-heart"></i><label><b>Both</b></label>
          </span>
        </span>
        -->
      </div>
    </div>
    <div class="col">
      <div class="form-group">
        <label>Property State&nbsp;&nbsp;<code>*</code></label>
        <br/>
        <span class="pretty p-default p-round p-thick mt-3">
          <input type="radio" name="propStateR" value="r"
                 [(ngModel)]="model.propState" name="propState"/>
          <span class="state p-primary-o">
              <i class="icon mdi mdi-heart"></i><label><b>Rent</b></label>
          </span>
        </span>
        <span class="pretty p-default p-round p-thick mt-3">
          <input type="radio" name="propStateS" value="s"
                 [(ngModel)]="model.propState" name="propState"/>
          <span class="state p-primary-o">
              <i class="icon mdi mdi-heart"></i><label><b>Sale</b></label>
          </span>
        </span>
        <!--
        <span class="pretty p-default p-round p-thick mt-3">
          <input type="radio" name="propStateStar" value="*"
                 [(ngModel)]="model.propState" name="propState"/>
          <span class="state p-primary-o">
              <i class="icon mdi mdi-heart"></i><label><b>Both</b></label>
          </span>
        </span>
        -->
      </div>
    </div>
    <div class="col">
      <div class="form-group">
        <label>Property Category&nbsp;&nbsp;<code>*</code></label>
        <select class="form-control" [(ngModel)]="model.propCategory" name="propCategory">
          <option value="-">&lt;Select Categorys&gt;</option>
          <option *ngFor="let o of model.categoryList" [value]="o.id">{{o.value}}</option>
        </select>
      </div>
    </div>
    <div class="col">
      <div class="form-group">
        <label>Property Type&nbsp;&nbsp;<code>*</code></label>
        <select class="form-control" [(ngModel)]="model.propType" name="propType">
          <option value="-">&lt;Select Types&gt;</option>
          <option *ngFor="let o of model.categoryType[model.propCategory]" [value]="o.type_id">{{o.value}}</option>
        </select>
      </div>
    </div>
  </div>
  <hr/>
  <div class="row">
    <div class="col text-center">
      <button class="btn btn-secondary" type="reset" value="Reset" (click)="onReset()">Reset</button>
    </div>
    <div class="col text-center">
        <span>Field Config Key : </span><b><code>{{model.userType}} {{model.propState}} {{model.propCategory}} {{model.propType}}</code></b>
    </div>
    <div class="col text-center">
      <button class="btn btn-primary" type="submit" value="Save"><i class="fas fa-save"></i> Save</button>
    </div>
  </div>
  <hr/>
  <div class="row">
    <div class="col">
      <h4 class="display-6 mt-4">{{model.section.name}} Fields</h4>
    </div>
    <div class="col">
      &nbsp;
    </div>
    <div class="col">
      <div class="form-group">
        <label>Section&nbsp;&nbsp;<code>*</code></label>
        <select class="form-control" [(ngModel)]="model.sectionName" name="sectionName"
          (change)="onSectionName()">
          <option *ngFor="let o of model.sections" [value]="o.name">{{o.name}}</option>
        </select>
      </div>
    </div>
  </div>
  <table class="table table-bordered table-striped">
    <thead>
    <tr>
      <th width="30">#</th>
      <th>Name</th>
      <th width="120" class="text-center">Edit</th>
      <th width="120" class="text-center">View</th>
      <th width="120" class="text-center">Mandatory</th>
      <th width="120" class="text-center">Numeric</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let item of model.section.fields; index as i">
      <td>{{i+1}}</td>
      <td>{{item.name}}</td>
      <td class="text-center">
        <div class="pretty p-default p-toggle">
          <input type="checkbox" [(ngModel)]="item.edit" name="{{item.name}}Edit"/>
          <div class="state p-success p-on">
            <label>Yes</label>
          </div>
          <div class="state p-danger p-off">
            <label>No</label>
          </div>
        </div>
      </td>
      <td class="text-center">
        <div class="pretty p-default p-toggle">
          <input type="checkbox" [(ngModel)]="item.view" name="{{item.name}}View"/>
          <div class="state p-success p-on">
            <label>Yes</label>
          </div>
          <div class="state p-danger p-off">
            <label>No</label>
          </div>
        </div>
      </td>
      <td class="text-center">
        <div class="pretty p-default p-toggle">
          <input type="checkbox" [(ngModel)]="item.mandatory" name="{{item.name}}Mandatory"/>
          <div class="state p-success p-on">
            <label>Yes</label>
          </div>
          <div class="state p-danger p-off">
            <label>No</label>
          </div>
        </div>
      </td>
      <td class="text-center">
        <div class="pretty p-default p-toggle">
          <input type="checkbox" [(ngModel)]="item.numeric" name="{{item.name}}Numeric"/>
          <div class="state p-success p-on">
            <label>Yes</label>
          </div>
          <div class="state p-danger p-off">
            <label>No</label>
          </div>
        </div>
      </td>
    </tr>
    </tbody>
  </table>
  <div class="row">
    <div class="col text-center">
      <button class="btn btn-secondary" type="reset" value="Reset" (click)="onReset()">Reset</button>
    </div>
    <div class="col">&nbsp;</div>
    <div class="col text-center">
      <button class="btn btn-primary" type="submit" value="Save"><i class="fas fa-save"></i> Save</button>
    </div>
  </div>
</form>
